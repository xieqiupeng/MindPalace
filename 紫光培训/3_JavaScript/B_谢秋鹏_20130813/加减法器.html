<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
 <head>
  <title>加减法器</title>
  <style type="text/css">
			.inputButton
			{
					width:200px;
					height:30px;
			}
			.inputText
			{
					width:200px;
					height:30px;
					border:2px solid green;
					text-align:center;
					font-size:18;
					font-weight:600;
			}
	  </style>
      <script type="text/javascript">
	       function findplusPosition(s)
		   {
					var pos=s.indexOf("+");
					return pos;
		   }
		   function findminusPosition(s)
		   {
					var pos=s.indexOf("-");
					return pos;
		   }
		   function preDeal()
		   {
					var str=document.getElementById("dataIn").value;
					var n= findminusPosition(str);		
					var result="";
					if(n==0)
					{				
							result=result+"+-";						
							var ss=str.substring(1,str.length);
							str=ss;
							n= findminusPosition(str);
					}
					while(n!=-1)
					{
									var firstStr =str.substring(0,n);
									result =result+firstStr+"+-";
									var secondStr =str.substring(n+1,str.length);
									str =secondStr;
									n =findminusPosition(str);
					}
					//document.getElementById("resultOut").value=result;
					return result+str;
		   }
		   
		   function getResult()
		   {
					var str=preDeal();			 
					var result=0;
					//得到从左边数第一个加号的位置
					var n=findplusPosition(str);
							//如果存在加号
							while(n!=-1)
							{ 
									var ss=str.substring(0,n);
								    result=result+(ss*1);
									var s=str.substring(n+1,str.length);
									str="";
									str=s;
									n=findplusPosition(str);
							}
							result=result+(str*1);
							document.getElementById("resultOut").value=result;
		   }
	  </script>
 </head>

 <body>
		<input type="text" id="dataIn" class="inputText" /><br/><br/>  
		<input type="button" value="计算" class="inputButton" onclick="getResult()"/><br/> <br/> <br/> 
		<div>加减法结果：</div>
		<input type="text" id="resultOut" class="inputText" /><br/><br/>
 </body>
</html>
